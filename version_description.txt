
yatterukun.mp4をテーマのカスタムヘッダや固定ページ内の動画として設定している場合、
/uploads/yatterukun.mp4のデータを入れ替えただけでは、ブラウザキャッシュのため、すぐに反映されない。

固定ページの動画であれば、

add_filter('the_content', array( $this, 'img_cache_buster' ));

で、出力されるURLの末尾にキャッシュバスタ―を挿入することで対応できた。

しかし、テーマのカスタムヘッダの場合は、上記filterにかからないため、
別途方法が必要。

このバージョンでは、

add_action('wp_footer', array( $this, 'theme_header_cache_buster' ) );

とし、フッター内にJavaScriptコードを挿入して、ブラウザ側でのページの読み込み後に
動画のURLにキャッシュバスタ―を付加して再読み込みさせる方法をとる。

しかしヘッダー動画の表示がどうしてもワンテンポ遅れてしまう問題がある。

